{"ast":null,"code":"var _jsxFileName = \"/Users/brycemolnar/Documents/bbbbbb/CS-410-Senior-Project-Editing-Tool/frontend/src/pages/ManualDifferentiation.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Flex, Heading, Text, Button, Select, Progress, VStack, HStack, useToast, Spinner, Alert, AlertIcon } from '@chakra-ui/react';\nimport NavigationBar from '../components/NavigationBar.tsx';\nimport { useDisplaySettings } from '../contexts/DisplaySettingsContext.tsx';\nimport { collationService } from '../services/collationService.ts';\n\n// Types for API responses and requests\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Default variation types\nconst defaultVariationTypes = [\"Different Spelling\", \"Abbreviation\", \"Word Choice\", \"Word Order\", \"Addition\", \"Omission\"];\nfunction ManualDifferentiation() {\n  _s();\n  const {\n    settings\n  } = useDisplaySettings();\n  const [variations, setVariations] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [completedCount, setCompletedCount] = useState(0);\n  const [isSignificant, setIsSignificant] = useState(true);\n  const [variationType, setVariationType] = useState('Different Spelling');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [isFetchingData, setIsFetchingData] = useState(true);\n  const [variationTypes, setVariationTypes] = useState(defaultVariationTypes);\n  const [collationResults, setCollationResults] = useState(null);\n  const [skippedIndices, setSkippedIndices] = useState([]);\n  const toast = useToast();\n\n  // Color mode values\n  const boxBg = settings.theme === 'dark' ? 'gray.800' : 'white';\n  const boxBorderColor = settings.theme === 'dark' ? 'gray.600' : 'gray.200';\n  const textColor = settings.theme === 'dark' ? 'gray.100' : 'gray.600';\n  const inputBg = settings.theme === 'dark' ? 'gray.700' : 'gray.50';\n  const inputBorderColor = settings.theme === 'dark' ? 'gray.500' : 'gray.300';\n\n  // Load variation types on mount\n  useEffect(() => {\n    const savedTypes = localStorage.getItem('variationTypes');\n    if (savedTypes) {\n      try {\n        const types = JSON.parse(savedTypes);\n        setVariationTypes(types);\n        if (!types.includes(variationType)) {\n          setVariationType(types[0]);\n        }\n      } catch (error) {\n        console.error('Error loading variation types:', error);\n      }\n    }\n  }, [variationType]);\n\n  // Fetch collation results on component mount\n  useEffect(() => {\n    async function fetchCollation() {\n      try {\n        setIsFetchingData(true);\n        setError(null);\n        const data = await collationService.collateManuscripts();\n        setCollationResults(data);\n        console.log('Raw collation API response:', data);\n        const newVariations = [];\n        const witnessMaps = data.witness_maps ? data.witness_maps : {};\n        Object.entries(data.differences).forEach(([verseNumber, differenceList]) => {\n          if (!Array.isArray(differenceList)) return;\n          differenceList.forEach(diff => {\n            if (diff.differences && diff.differences.w1 !== undefined && diff.differences.w2 !== undefined) {\n              // Use witness_maps to get the correct sigla for w2\n              let manuscriptSigla = 'w2';\n              const witnessMap = witnessMaps[verseNumber];\n              if (witnessMap && witnessMap['w2']) {\n                manuscriptSigla = witnessMap['w2'].replace('.docx', '');\n              }\n              newVariations.push({\n                verseNumber: parseInt(verseNumber),\n                word1: diff.differences.w1,\n                word2: diff.differences.w2,\n                position: diff.position,\n                manuscriptSigla: manuscriptSigla\n              });\n            }\n          });\n        });\n        console.log('Final newVariations:', newVariations);\n        setVariations(newVariations);\n      } catch (error) {\n        setError(error instanceof Error ? error.message : 'Failed to fetch collation results');\n        toast({\n          title: 'Error fetching collation results',\n          description: error instanceof Error ? error.message : 'Unknown error occurred',\n          status: 'error',\n          duration: 5000,\n          isClosable: true\n        });\n      } finally {\n        setIsFetchingData(false);\n      }\n    }\n    fetchCollation();\n  }, [toast]);\n  const currentVariation = variations[currentIndex];\n  const currentNumber = currentIndex + 1;\n  const totalVariations = variations.length;\n  async function handleConfirm() {\n    if (!currentVariation) return;\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Save the comparison result\n      await collationService.saveComparison({\n        wordComparison: currentVariation,\n        isSignificant,\n        variationType\n      });\n      setCompletedCount(prev => prev + 1);\n      if (currentIndex < variations.length - 1) {\n        setCurrentIndex(prev => prev + 1);\n      }\n      toast({\n        title: 'Comparison saved',\n        status: 'success',\n        duration: 2000,\n        isClosable: true\n      });\n    } catch (error) {\n      setError(error instanceof Error ? error.message : 'Failed to save comparison');\n      toast({\n        title: 'Error saving comparison',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n  function handleSkip() {\n    if (currentIndex < variations.length - 1) {\n      setSkippedIndices(prev => [...prev, currentIndex]);\n      setCurrentIndex(prev => prev + 1);\n    }\n  }\n  function handleGoBackToPreviousSkipped() {\n    if (skippedIndices.length > 0) {\n      const lastSkipped = skippedIndices[skippedIndices.length - 1];\n      setSkippedIndices(prev => prev.slice(0, -1));\n      setCurrentIndex(lastSkipped);\n    }\n  }\n  if (isFetchingData) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          bg: \"#08004F\",\n          py: 8,\n          px: 6,\n          position: \"relative\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            fontWeight: \"normal\",\n            ml: 8,\n            color: \"lightgray\",\n            size: \"lg\",\n            children: \"Manual Differentiation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          p: 8,\n          textAlign: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n            size: \"xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            mt: 4,\n            color: textColor,\n            children: \"Loading comparisons...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          bg: \"#08004F\",\n          py: 8,\n          px: 6,\n          position: \"relative\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            fontWeight: \"normal\",\n            ml: 8,\n            color: \"lightgray\",\n            size: \"lg\",\n            children: \"Manual Differentiation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          p: 8,\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            status: \"error\",\n            children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentVariation) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          bg: \"#08004F\",\n          py: 8,\n          px: 6,\n          position: \"relative\",\n          children: /*#__PURE__*/_jsxDEV(Heading, {\n            fontWeight: \"normal\",\n            ml: 8,\n            color: \"lightgray\",\n            size: \"lg\",\n            children: \"Manual Differentiation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          p: 8,\n          textAlign: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"xl\",\n            children: \"All variations have been processed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        bg: \"#08004F\",\n        py: 8,\n        px: 6,\n        position: \"relative\",\n        children: /*#__PURE__*/_jsxDEV(Heading, {\n          fontWeight: \"normal\",\n          ml: 8,\n          color: \"lightgray\",\n          size: \"lg\",\n          children: \"Manual Differentiation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 8,\n        maxW: \"800px\",\n        mx: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(VStack, {\n          spacing: 8,\n          align: \"stretch\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            textAlign: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"2xl\",\n              mb: 4,\n              color: textColor,\n              children: [currentNumber, \" out of \", totalVariations, \" variations completed\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Progress, {\n              value: currentNumber / totalVariations * 100,\n              size: \"sm\",\n              colorScheme: \"blue\",\n              borderRadius: \"full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), skippedIndices.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"yellow\",\n            onClick: handleGoBackToPreviousSkipped,\n            borderRadius: \"full\",\n            mb: 4,\n            children: \"Go Back to Previous Skipped\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            borderWidth: 1,\n            borderColor: boxBorderColor,\n            borderRadius: \"lg\",\n            p: 8,\n            bg: boxBg,\n            boxShadow: \"sm\",\n            children: /*#__PURE__*/_jsxDEV(VStack, {\n              spacing: 6,\n              align: \"stretch\",\n              children: [/*#__PURE__*/_jsxDEV(HStack, {\n                spacing: 4,\n                justify: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"2xl\",\n                  fontWeight: \"medium\",\n                  color: textColor,\n                  children: \"01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"2xl\",\n                  fontWeight: \"medium\",\n                  color: textColor,\n                  children: \"vs.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"2xl\",\n                  fontWeight: \"medium\",\n                  color: textColor,\n                  children: currentVariation.manuscriptSigla\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                textAlign: \"center\",\n                fontSize: \"md\",\n                color: textColor,\n                children: [\"Verse \", currentVariation.verseNumber, \", Word \", currentVariation.position]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(VStack, {\n                spacing: 4,\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  w: \"100%\",\n                  p: 4,\n                  borderWidth: 1,\n                  borderColor: inputBorderColor,\n                  borderRadius: \"md\",\n                  textAlign: \"center\",\n                  bg: inputBg,\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"xl\",\n                    color: textColor,\n                    children: currentVariation.word1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"sm\",\n                    color: textColor,\n                    mt: 1,\n                    children: \"Manuscript 01\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  color: textColor,\n                  children: \"vs.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  w: \"100%\",\n                  p: 4,\n                  borderWidth: 1,\n                  borderColor: inputBorderColor,\n                  borderRadius: \"md\",\n                  textAlign: \"center\",\n                  bg: inputBg,\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"xl\",\n                    color: textColor,\n                    children: currentVariation.word2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"sm\",\n                    color: textColor,\n                    mt: 1,\n                    children: [\"Manuscript \", currentVariation.manuscriptSigla]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(HStack, {\n                  spacing: 0,\n                  mb: 6,\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    flex: 1,\n                    bg: isSignificant ? \"green.500\" : settings.theme === 'dark' ? \"gray.700\" : \"gray.200\",\n                    color: isSignificant ? \"white\" : textColor,\n                    onClick: () => setIsSignificant(true),\n                    _hover: {\n                      bg: isSignificant ? \"green.600\" : settings.theme === 'dark' ? \"gray.600\" : \"gray.300\"\n                    },\n                    borderRightRadius: 0,\n                    py: 6,\n                    children: \"Significant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    flex: 1,\n                    bg: !isSignificant ? \"gray.500\" : settings.theme === 'dark' ? \"gray.700\" : \"gray.200\",\n                    color: !isSignificant ? \"white\" : textColor,\n                    onClick: () => setIsSignificant(false),\n                    _hover: {\n                      bg: !isSignificant ? \"gray.600\" : settings.theme === 'dark' ? \"gray.600\" : \"gray.300\"\n                    },\n                    borderLeftRadius: 0,\n                    py: 6,\n                    children: \"Insignificant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  mb: 6,\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    mb: 2,\n                    color: textColor,\n                    children: \"Variation type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Select, {\n                    value: variationType,\n                    onChange: e => setVariationType(e.target.value),\n                    size: \"lg\",\n                    borderColor: inputBorderColor,\n                    bg: inputBg,\n                    color: textColor,\n                    _hover: {\n                      borderColor: settings.theme === 'dark' ? \"gray.400\" : \"gray.500\"\n                    },\n                    children: variationTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: type,\n                      children: type\n                    }, type, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                  gap: 4,\n                  justify: \"space-between\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    bg: \"#B8860B\",\n                    color: \"white\",\n                    _hover: {\n                      bg: \"#9A7B0A\"\n                    },\n                    onClick: handleSkip,\n                    size: \"lg\",\n                    px: 8,\n                    isDisabled: isLoading,\n                    borderRadius: \"full\",\n                    children: \"Skip for later\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    colorScheme: \"green\",\n                    onClick: handleConfirm,\n                    size: \"lg\",\n                    px: 12,\n                    isLoading: isLoading,\n                    loadingText: \"Confirming...\",\n                    borderRadius: \"full\",\n                    children: \"Confirm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this);\n}\n_s(ManualDifferentiation, \"veIvMEy49WwPCM0V3ATOFh5cLqg=\", false, function () {\n  return [useDisplaySettings, useToast];\n});\n_c = ManualDifferentiation;\nexport default ManualDifferentiation;\nvar _c;\n$RefreshReg$(_c, \"ManualDifferentiation\");","map":{"version":3,"names":["React","useState","useEffect","Box","Flex","Heading","Text","Button","Select","Progress","VStack","HStack","useToast","Spinner","Alert","AlertIcon","NavigationBar","useDisplaySettings","collationService","jsxDEV","_jsxDEV","defaultVariationTypes","ManualDifferentiation","_s","settings","variations","setVariations","currentIndex","setCurrentIndex","completedCount","setCompletedCount","isSignificant","setIsSignificant","variationType","setVariationType","isLoading","setIsLoading","error","setError","isFetchingData","setIsFetchingData","variationTypes","setVariationTypes","collationResults","setCollationResults","skippedIndices","setSkippedIndices","toast","boxBg","theme","boxBorderColor","textColor","inputBg","inputBorderColor","savedTypes","localStorage","getItem","types","JSON","parse","includes","console","fetchCollation","data","collateManuscripts","log","newVariations","witnessMaps","witness_maps","Object","entries","differences","forEach","verseNumber","differenceList","Array","isArray","diff","w1","undefined","w2","manuscriptSigla","witnessMap","replace","push","parseInt","word1","word2","position","Error","message","title","description","status","duration","isClosable","currentVariation","currentNumber","totalVariations","length","handleConfirm","saveComparison","wordComparison","prev","handleSkip","handleGoBackToPreviousSkipped","lastSkipped","slice","children","fileName","_jsxFileName","lineNumber","columnNumber","bg","py","px","fontWeight","ml","color","size","p","textAlign","mt","fontSize","maxW","mx","spacing","align","mb","value","colorScheme","borderRadius","onClick","borderWidth","borderColor","boxShadow","justify","w","flex","_hover","borderRightRadius","borderLeftRadius","onChange","e","target","map","type","gap","isDisabled","loadingText","_c","$RefreshReg$"],"sources":["/Users/brycemolnar/Documents/bbbbbb/CS-410-Senior-Project-Editing-Tool/frontend/src/pages/ManualDifferentiation.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Flex,\n  Heading,\n  Text,\n  Button,\n  Select,\n  Progress,\n  VStack,\n  HStack,\n  useToast,\n  Spinner,\n  Alert,\n  AlertIcon,\n  useColorModeValue,\n  Table,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n} from '@chakra-ui/react';\nimport NavigationBar from '../components/NavigationBar.tsx';\nimport { useDisplaySettings } from '../contexts/DisplaySettingsContext.tsx';\nimport { collationService } from '../services/collationService.ts';\nimport { API_BASE_URL } from '../config.ts';\n\n// Types for API responses and requests\ninterface WordComparison {\n  verseNumber: number;\n  word1: string;\n  word2: string;\n  position: number;\n  manuscriptSigla: string;\n}\n\ninterface ComparisonResult {\n  comparisonId: string;\n  isSignificant: boolean;\n  variationType: string;\n  wordComparison: WordComparison;\n  timestamp: string;\n}\n\ninterface CollationResult {\n  differences: {\n    [verseNumber: string]: {\n      witnesses?: string[];\n      table?: any[][];\n      error?: string;\n    };\n  };\n  witness_maps?: {\n    [verseNumber: string]: {\n      [witness: string]: string;\n    };\n  };\n}\n\ninterface Manuscript {\n  _id: string;\n  filename: string;\n  metadata: {\n    'MS ID:': string;\n    'Other Names:': string;\n    'Contents:': string;\n    'Date:': string;\n    'Origin:': string;\n    'Total Folia:': string;\n    'Dimensions:': string;\n    'Materials:': string;\n    'Laod. Folia:': string;\n    'Format Description:': string;\n  };\n  verses: {\n    verse_number: number;\n    verse_text: string;\n  }[];\n}\n\n// Default variation types\nconst defaultVariationTypes = [\n  \"Different Spelling\",\n  \"Abbreviation\",\n  \"Word Choice\",\n  \"Word Order\",\n  \"Addition\",\n  \"Omission\"\n];\n\nfunction ManualDifferentiation() {\n  const { settings } = useDisplaySettings();\n  const [variations, setVariations] = useState<WordComparison[]>([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [completedCount, setCompletedCount] = useState(0);\n  const [isSignificant, setIsSignificant] = useState(true);\n  const [variationType, setVariationType] = useState('Different Spelling');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [isFetchingData, setIsFetchingData] = useState(true);\n  const [variationTypes, setVariationTypes] = useState<string[]>(defaultVariationTypes);\n  const [collationResults, setCollationResults] = useState<CollationResult | null>(null);\n  const [skippedIndices, setSkippedIndices] = useState<number[]>([]);\n  const toast = useToast();\n\n  // Color mode values\n  const boxBg = settings.theme === 'dark' ? 'gray.800' : 'white';\n  const boxBorderColor = settings.theme === 'dark' ? 'gray.600' : 'gray.200';\n  const textColor = settings.theme === 'dark' ? 'gray.100' : 'gray.600';\n  const inputBg = settings.theme === 'dark' ? 'gray.700' : 'gray.50';\n  const inputBorderColor = settings.theme === 'dark' ? 'gray.500' : 'gray.300';\n\n  // Load variation types on mount\n  useEffect(() => {\n    const savedTypes = localStorage.getItem('variationTypes');\n    if (savedTypes) {\n      try {\n        const types = JSON.parse(savedTypes);\n        setVariationTypes(types);\n        if (!types.includes(variationType)) {\n          setVariationType(types[0]);\n        }\n      } catch (error) {\n        console.error('Error loading variation types:', error);\n      }\n    }\n  }, [variationType]);\n\n  // Fetch collation results on component mount\n  useEffect(() => {\n    async function fetchCollation() {\n      try {\n        setIsFetchingData(true);\n        setError(null);\n        const data = await collationService.collateManuscripts();\n        setCollationResults(data);\n        \n        console.log('Raw collation API response:', data);\n        const newVariations: WordComparison[] = [];\n        const witnessMaps = (data as any).witness_maps ? (data as any).witness_maps : {};\n        Object.entries(data.differences).forEach(([verseNumber, differenceList]) => {\n          if (!Array.isArray(differenceList)) return;\n          differenceList.forEach(diff => {\n            if (diff.differences && diff.differences.w1 !== undefined && diff.differences.w2 !== undefined) {\n              // Use witness_maps to get the correct sigla for w2\n              let manuscriptSigla = 'w2';\n              const witnessMap = witnessMaps[verseNumber];\n              if (witnessMap && witnessMap['w2']) {\n                manuscriptSigla = witnessMap['w2'].replace('.docx', '');\n              }\n              newVariations.push({\n                verseNumber: parseInt(verseNumber),\n                word1: diff.differences.w1,\n                word2: diff.differences.w2,\n                position: diff.position,\n                manuscriptSigla: manuscriptSigla\n              });\n            }\n          });\n        });\n        console.log('Final newVariations:', newVariations);\n        setVariations(newVariations);\n      } catch (error) {\n        setError(error instanceof Error ? error.message : 'Failed to fetch collation results');\n        toast({\n          title: 'Error fetching collation results',\n          description: error instanceof Error ? error.message : 'Unknown error occurred',\n          status: 'error',\n          duration: 5000,\n          isClosable: true,\n        });\n      } finally {\n        setIsFetchingData(false);\n      }\n    }\n\n    fetchCollation();\n  }, [toast]);\n\n  const currentVariation = variations[currentIndex];\n  const currentNumber = currentIndex + 1;\n  const totalVariations = variations.length;\n\n  async function handleConfirm() {\n    if (!currentVariation) return;\n\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Save the comparison result\n      await collationService.saveComparison({\n        wordComparison: currentVariation,\n        isSignificant,\n        variationType,\n      });\n\n      setCompletedCount(prev => prev + 1);\n      if (currentIndex < variations.length - 1) {\n        setCurrentIndex(prev => prev + 1);\n      }\n\n      toast({\n        title: 'Comparison saved',\n        status: 'success',\n        duration: 2000,\n        isClosable: true,\n      });\n    } catch (error) {\n      setError(error instanceof Error ? error.message : 'Failed to save comparison');\n      toast({\n        title: 'Error saving comparison',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  function handleSkip() {\n    if (currentIndex < variations.length - 1) {\n      setSkippedIndices(prev => [...prev, currentIndex]);\n      setCurrentIndex(prev => prev + 1);\n    }\n  }\n\n  function handleGoBackToPreviousSkipped() {\n    if (skippedIndices.length > 0) {\n      const lastSkipped = skippedIndices[skippedIndices.length - 1];\n      setSkippedIndices(prev => prev.slice(0, -1));\n      setCurrentIndex(lastSkipped);\n    }\n  }\n\n  if (isFetchingData) {\n    return (\n      <Box>\n        <NavigationBar />\n        <Box>\n          <Box bg=\"#08004F\" py={8} px={6} position=\"relative\">\n            <Heading fontWeight=\"normal\" ml={8} color=\"lightgray\" size=\"lg\">Manual Differentiation</Heading>\n          </Box>\n          <Box p={8} textAlign=\"center\">\n            <Spinner size=\"xl\" />\n            <Text mt={4} color={textColor}>Loading comparisons...</Text>\n          </Box>\n        </Box>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box>\n        <NavigationBar />\n        <Box>\n          <Box bg=\"#08004F\" py={8} px={6} position=\"relative\">\n            <Heading fontWeight=\"normal\" ml={8} color=\"lightgray\" size=\"lg\">Manual Differentiation</Heading>\n          </Box>\n          <Box p={8}>\n            <Alert status=\"error\">\n              <AlertIcon />\n              {error}\n            </Alert>\n          </Box>\n        </Box>\n      </Box>\n    );\n  }\n\n  if (!currentVariation) {\n    return (\n      <Box>\n        <NavigationBar />\n        <Box>\n          <Box bg=\"#08004F\" py={8} px={6} position=\"relative\">\n            <Heading fontWeight=\"normal\" ml={8} color=\"lightgray\" size=\"lg\">Manual Differentiation</Heading>\n          </Box>\n          <Box p={8} textAlign=\"center\">\n            <Text fontSize=\"xl\">All variations have been processed.</Text>\n          </Box>\n        </Box>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <NavigationBar />\n      <Box>\n        <Box bg=\"#08004F\" py={8} px={6} position=\"relative\">\n          <Heading fontWeight=\"normal\" ml={8} color=\"lightgray\" size=\"lg\">Manual Differentiation</Heading>\n        </Box>\n\n        <Box p={8} maxW=\"800px\" mx=\"auto\">\n          <VStack spacing={8} align=\"stretch\">\n            <Box textAlign=\"center\">\n              <Text fontSize=\"2xl\" mb={4} color={textColor}>\n                {currentNumber} out of {totalVariations} variations completed\n              </Text>\n              <Progress \n                value={(currentNumber / totalVariations) * 100} \n                size=\"sm\" \n                colorScheme=\"blue\" \n                borderRadius=\"full\"\n              />\n            </Box>\n\n            {/* Go Back to Previous Skipped Button */}\n            {skippedIndices.length > 0 && (\n              <Button\n                colorScheme=\"yellow\"\n                onClick={handleGoBackToPreviousSkipped}\n                borderRadius=\"full\"\n                mb={4}\n              >\n                Go Back to Previous Skipped\n              </Button>\n            )}\n\n            <Box \n              borderWidth={1} \n              borderColor={boxBorderColor}\n              borderRadius=\"lg\" \n              p={8}\n              bg={boxBg}\n              boxShadow=\"sm\"\n            >\n              <VStack spacing={6} align=\"stretch\">\n                <HStack spacing={4} justify=\"center\">\n                  <Text fontSize=\"2xl\" fontWeight=\"medium\" color={textColor}>01</Text>\n                  <Text fontSize=\"2xl\" fontWeight=\"medium\" color={textColor}>vs.</Text>\n                  <Text fontSize=\"2xl\" fontWeight=\"medium\" color={textColor}>{currentVariation.manuscriptSigla}</Text>\n                </HStack>\n\n                <Text textAlign=\"center\" fontSize=\"md\" color={textColor}>\n                  Verse {currentVariation.verseNumber}, Word {currentVariation.position}\n                </Text>\n\n                <VStack spacing={4}>\n                  <Box \n                    w=\"100%\" \n                    p={4} \n                    borderWidth={1} \n                    borderColor={inputBorderColor}\n                    borderRadius=\"md\"\n                    textAlign=\"center\"\n                    bg={inputBg}\n                  >\n                    <Text fontSize=\"xl\" color={textColor}>{currentVariation.word1}</Text>\n                    <Text fontSize=\"sm\" color={textColor} mt={1}>Manuscript 01</Text>\n                  </Box>\n                  \n                  <Text fontSize=\"lg\" color={textColor}>vs.</Text>\n                  \n                  <Box \n                    w=\"100%\" \n                    p={4} \n                    borderWidth={1} \n                    borderColor={inputBorderColor}\n                    borderRadius=\"md\"\n                    textAlign=\"center\"\n                    bg={inputBg}\n                  >\n                    <Text fontSize=\"xl\" color={textColor}>{currentVariation.word2}</Text>\n                    <Text fontSize=\"sm\" color={textColor} mt={1}>Manuscript {currentVariation.manuscriptSigla}</Text>\n                  </Box>\n                </VStack>\n\n                <Box>\n                  <HStack spacing={0} mb={6}>\n                    <Button\n                      flex={1}\n                      bg={isSignificant ? \"green.500\" : settings.theme === 'dark' ? \"gray.700\" : \"gray.200\"}\n                      color={isSignificant ? \"white\" : textColor}\n                      onClick={() => setIsSignificant(true)}\n                      _hover={{ bg: isSignificant ? \"green.600\" : settings.theme === 'dark' ? \"gray.600\" : \"gray.300\" }}\n                      borderRightRadius={0}\n                      py={6}\n                    >\n                      Significant\n                    </Button>\n                    <Button\n                      flex={1}\n                      bg={!isSignificant ? \"gray.500\" : settings.theme === 'dark' ? \"gray.700\" : \"gray.200\"}\n                      color={!isSignificant ? \"white\" : textColor}\n                      onClick={() => setIsSignificant(false)}\n                      _hover={{ bg: !isSignificant ? \"gray.600\" : settings.theme === 'dark' ? \"gray.600\" : \"gray.300\" }}\n                      borderLeftRadius={0}\n                      py={6}\n                    >\n                      Insignificant\n                    </Button>\n                  </HStack>\n\n                  <Box mb={6}>\n                    <Text mb={2} color={textColor}>Variation type</Text>\n                    <Select\n                      value={variationType}\n                      onChange={(e) => setVariationType(e.target.value)}\n                      size=\"lg\"\n                      borderColor={inputBorderColor}\n                      bg={inputBg}\n                      color={textColor}\n                      _hover={{ borderColor: settings.theme === 'dark' ? \"gray.400\" : \"gray.500\" }}\n                    >\n                      {variationTypes.map((type) => (\n                        <option key={type} value={type}>{type}</option>\n                      ))}\n                    </Select>\n                  </Box>\n\n                  <Flex gap={4} justify=\"space-between\">\n                    <Button\n                      bg=\"#B8860B\"\n                      color=\"white\"\n                      _hover={{ bg: \"#9A7B0A\" }}\n                      onClick={handleSkip}\n                      size=\"lg\"\n                      px={8}\n                      isDisabled={isLoading}\n                      borderRadius=\"full\"\n                    >\n                      Skip for later\n                    </Button>\n                    <Button\n                      colorScheme=\"green\"\n                      onClick={handleConfirm}\n                      size=\"lg\"\n                      px={12}\n                      isLoading={isLoading}\n                      loadingText=\"Confirming...\"\n                      borderRadius=\"full\"\n                    >\n                      Confirm\n                    </Button>\n                  </Flex>\n                </Box>\n              </VStack>\n            </Box>\n          </VStack>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default ManualDifferentiation; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}