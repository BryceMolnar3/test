{"ast":null,"code":"var _jsxFileName = \"/Users/brycemolnar/Documents/bbbbbb/CS-410-Senior-Project-Editing-Tool/frontend/src/pages/NewDataEntry.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Box, Flex, Heading, Text, Input, Textarea, Button, VStack, HStack, Image, useToast, Table, Thead, Tbody, Tr, Th, Td, useDisclosure, Modal, ModalOverlay, ModalContent, ModalHeader, ModalBody, ModalCloseButton, ModalFooter, Tooltip, AlertDialog, AlertDialogBody, AlertDialogFooter, AlertDialogHeader, AlertDialogContent, AlertDialogOverlay } from '@chakra-ui/react';\nimport NavigationBar from '../components/NavigationBar.tsx';\n\n// API base URL - can be configured based on environment\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000';\nfunction NewDataEntry() {\n  _s();\n  const [formData, setFormData] = useState({\n    ms_id: '',\n    sigla: '',\n    date: '',\n    other_names: '',\n    contents: '',\n    place_of_origin: '',\n    total_folia: '',\n    dimensions: '',\n    materials: '',\n    laod_folia: '',\n    format_description: '',\n    transcription: ''\n  });\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [selectedImageFile, setSelectedImageFile] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [drafts, setDrafts] = useState([]);\n  const [isLoadingDrafts, setIsLoadingDrafts] = useState(false);\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const fileInputRef = useRef(null);\n  const toast = useToast();\n  const [existingDraft, setExistingDraft] = useState(null);\n  const {\n    isOpen: isDraftModalOpen,\n    onOpen: onDraftModalOpen,\n    onClose: onDraftModalClose\n  } = useDisclosure();\n  const {\n    isOpen: isConfirmModalOpen,\n    onOpen: onConfirmModalOpen,\n    onClose: onConfirmModalClose\n  } = useDisclosure();\n  const [currentImageError, setCurrentImageError] = useState(false);\n  const [currentModalImageError, setCurrentModalImageError] = useState(false);\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const [draftToDelete, setDraftToDelete] = useState(null);\n  const cancelRef = useRef(null);\n\n  // Fetch drafts on component mount\n  useEffect(() => {\n    fetchDrafts();\n  }, []);\n  async function fetchDrafts() {\n    try {\n      setIsLoadingDrafts(true);\n      const response = await fetch(`${API_BASE_URL}/api/documents/drafts/`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch drafts');\n      }\n      const data = await response.json();\n      setDrafts(data);\n    } catch (error) {\n      toast({\n        title: 'Error fetching drafts',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setIsLoadingDrafts(false);\n    }\n  }\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(function (prev) {\n      return {\n        ...prev,\n        [name]: value\n      };\n    });\n  }\n  function handleImageClick() {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  }\n  function handleImageChange(e) {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      setSelectedImageFile(file);\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        var _e$target;\n        setSelectedImage((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  function handleClear() {\n    setFormData({\n      ms_id: '',\n      sigla: '',\n      date: '',\n      other_names: '',\n      contents: '',\n      place_of_origin: '',\n      total_folia: '',\n      dimensions: '',\n      materials: '',\n      laod_folia: '',\n      format_description: '',\n      transcription: ''\n    });\n    setSelectedImage(null);\n    setSelectedImageFile(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  }\n  function loadDraft(draft) {\n    setFormData({\n      ms_id: draft.metadata['MS ID:'] || '',\n      sigla: draft.filename.replace('.docx', ''),\n      date: draft.metadata['Date:'] || '',\n      other_names: draft.metadata['Other Names:'] || '',\n      contents: draft.metadata['Contents:'] || '',\n      place_of_origin: draft.metadata['Origin:'] || '',\n      total_folia: draft.metadata['Total Folia:'] || '',\n      dimensions: draft.metadata['Dimensions:'] || '',\n      materials: draft.metadata['Materials:'] || '',\n      laod_folia: draft.metadata['Laod Folia:'] || '',\n      format_description: draft.metadata['Format Description:'] || '',\n      transcription: draft.verses.map(v => v.verse_text).join('\\n')\n    });\n    if (draft.image_filename) {\n      setSelectedImage(`${API_BASE_URL}/media/${draft.image_filename}`);\n      setSelectedImageFile(null);\n    } else {\n      setSelectedImage(null);\n      setSelectedImageFile(null);\n    }\n    setCurrentModalImageError(false);\n    onClose();\n  }\n  async function handleSaveAsDraft() {\n    // Check if all fields are empty (including verses)\n    const allFields = [formData.ms_id, formData.sigla, formData.date, formData.other_names, formData.contents, formData.place_of_origin, formData.total_folia, formData.dimensions, formData.materials, formData.laod_folia, formData.format_description, formData.transcription];\n    const allEmpty = allFields.every(field => !field || field.trim() === '');\n    if (allEmpty) {\n      toast({\n        title: 'Cannot save empty draft',\n        description: 'Please fill in at least one field or add a verse before saving as draft.',\n        status: 'warning',\n        duration: 4000,\n        isClosable: true\n      });\n      return;\n    }\n    try {\n      setIsLoading(true);\n\n      // Check if a draft with the same filename already exists\n      const existingDraft = drafts.find(draft => draft.filename === `${formData.sigla}.docx`);\n      if (existingDraft) {\n        setExistingDraft(existingDraft);\n        onConfirmModalOpen();\n        return;\n      }\n      await saveDraft();\n    } catch (error) {\n      toast({\n        title: 'Error saving draft',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n  async function saveDraft() {\n    const formDataToSend = new FormData();\n    formDataToSend.append('document', JSON.stringify({\n      filename: `${formData.sigla}.docx`,\n      metadata: {\n        'MS ID:': formData.ms_id,\n        'Other Names:': formData.other_names,\n        'Contents:': formData.contents,\n        'Date:': formData.date,\n        'Origin:': formData.place_of_origin,\n        'Total Folia:': formData.total_folia,\n        'Dimensions:': formData.dimensions,\n        'Materials:': formData.materials,\n        'Laod Folia:': formData.laod_folia,\n        'Format Description:': formData.format_description\n      },\n      verses: formData.transcription.split('\\n').map((line, index) => ({\n        verse_number: index + 1,\n        verse_text: line.trim()\n      })).filter(verse => verse.verse_text.length > 0)\n    }));\n    if (selectedImageFile) {\n      formDataToSend.append('image', selectedImageFile, selectedImageFile.name);\n    }\n    const endpoint = existingDraft ? 'draft/replace/' : 'draft/';\n    const response = await fetch(`${API_BASE_URL}/api/documents/${endpoint}`, {\n      method: 'POST',\n      body: formDataToSend\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Failed to save draft');\n    }\n    toast({\n      title: existingDraft ? 'Draft replaced' : 'Draft saved',\n      status: 'success',\n      duration: 3000,\n      isClosable: true\n    });\n    setExistingDraft(null);\n    fetchDrafts();\n  }\n  async function handleComplete() {\n    try {\n      setIsLoading(true);\n      // Validate required fields\n      const requiredFields = ['ms_id', 'sigla', 'date'];\n      const missingFields = requiredFields.filter(field => !formData[field]);\n      if (missingFields.length > 0) {\n        throw new Error(`Required fields missing: ${missingFields.join(', ')}`);\n      }\n\n      // Process transcription into verses\n      // Split by newlines and filter out empty lines\n      const verses = formData.transcription.split('\\n').map((line, index) => ({\n        verse_number: index + 1,\n        verse_text: line.trim()\n      })).filter(verse => verse.verse_text.length > 0);\n      const formDataToSend = new FormData();\n\n      // Add the main document data\n      formDataToSend.append('document', JSON.stringify({\n        filename: `${formData.sigla}.docx`,\n        metadata: {\n          'MS ID:': formData.ms_id,\n          'Other Names:': formData.other_names,\n          'Contents:': formData.contents,\n          'Date:': formData.date,\n          'Origin:': formData.place_of_origin,\n          'Total Folia:': formData.total_folia,\n          'Dimensions:': formData.dimensions,\n          'Materials:': formData.materials,\n          'Laod Folia:': formData.laod_folia,\n          'Format Description:': formData.format_description\n        },\n        verses: verses\n      }));\n\n      // Add the image if it exists\n      if (selectedImageFile) {\n        formDataToSend.append('image', selectedImageFile, selectedImageFile.name);\n      }\n      const response = await fetch(`${API_BASE_URL}/api/documents/create/`, {\n        method: 'POST',\n        body: formDataToSend\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to submit manuscript');\n      }\n\n      // Delete the draft if it exists\n      try {\n        await fetch(`${API_BASE_URL}/api/documents/draft/${formData.sigla}.docx/delete/`, {\n          method: 'DELETE'\n        });\n        fetchDrafts();\n      } catch (e) {\n        // Ignore errors here, just try to clean up\n      }\n      toast({\n        title: 'Manuscript submitted successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n\n      // Redirect to ManuscriptViewer for the new manuscript\n      window.location.href = `/manuscript-viewer/${formData.sigla}`;\n      // Or, if using react-router: navigate(`/manuscript-viewer/${formData.sigla}`);\n      // Clear form after successful submission\n      handleClear();\n    } catch (error) {\n      toast({\n        title: 'Error submitting manuscript',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n  async function handleDeleteDraft(filename) {\n    try {\n      await fetch(`${API_BASE_URL}/api/documents/draft/${filename}/delete/`, {\n        method: 'DELETE'\n      });\n      fetchDrafts();\n      toast({\n        title: 'Draft deleted',\n        status: 'success',\n        duration: 2000,\n        isClosable: true\n      });\n    } catch (error) {\n      toast({\n        title: 'Error deleting draft',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    }\n  }\n  function openDeleteDialog(filename) {\n    setDraftToDelete(filename);\n    setIsDeleteDialogOpen(true);\n  }\n  function closeDeleteDialog() {\n    setIsDeleteDialogOpen(false);\n    setDraftToDelete(null);\n  }\n  async function confirmDeleteDraft() {\n    if (draftToDelete) {\n      await handleDeleteDraft(draftToDelete);\n      closeDeleteDialog();\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        bg: \"#08004F\",\n        py: 8,\n        px: 6,\n        position: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          fontWeight: \"normal\",\n          ml: 8,\n          color: \"lightgray\",\n          size: \"lg\",\n          children: \"New Data Entry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          position: \"absolute\",\n          right: 6,\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          gap: 4,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            bg: \"#B8860B\",\n            color: \"white\",\n            _hover: {\n              bg: \"#9A7B0A\"\n            },\n            onClick: onOpen,\n            borderRadius: \"full\",\n            size: \"md\",\n            px: 8,\n            children: \"View Drafts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            bg: \"#CB0606\",\n            color: \"white\",\n            _hover: {\n              bg: \"#A80505\"\n            },\n            onClick: handleClear,\n            borderRadius: \"full\",\n            size: \"md\",\n            px: 8,\n            isDisabled: isLoading,\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            bg: \"#B8860B\",\n            color: \"white\",\n            _hover: {\n              bg: \"#9A7B0A\"\n            },\n            onClick: handleSaveAsDraft,\n            borderRadius: \"full\",\n            size: \"md\",\n            px: 8,\n            isLoading: isLoading,\n            loadingText: \"Saving...\",\n            children: \"Save as draft\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"green\",\n            onClick: handleComplete,\n            borderRadius: \"full\",\n            size: \"md\",\n            px: 8,\n            isLoading: isLoading,\n            loadingText: \"Submitting...\",\n            children: \"Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isOpen,\n        onClose: onClose,\n        size: \"xl\",\n        isCentered: true,\n        children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n          maxW: \"600px\",\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            children: \"Saved Drafts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              overflowX: \"auto\",\n              maxH: \"350px\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                variant: \"simple\",\n                size: \"sm\",\n                children: [/*#__PURE__*/_jsxDEV(Thead, {\n                  children: /*#__PURE__*/_jsxDEV(Tr, {\n                    children: [/*#__PURE__*/_jsxDEV(Th, {\n                      children: \"MS ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      children: \"Sigla\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n                  children: drafts.map(draft => /*#__PURE__*/_jsxDEV(Tr, {\n                    children: [/*#__PURE__*/_jsxDEV(Td, {\n                      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                        label: draft.metadata['MS ID:'] || '[None]',\n                        hasArrow: true,\n                        children: /*#__PURE__*/_jsxDEV(Box, {\n                          isTruncated: true,\n                          maxW: \"120px\",\n                          children: draft.metadata['MS ID:'] ? draft.metadata['MS ID:'] : '[None]'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 513,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 512,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 511,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                        label: draft.filename.replace('.docx', '') || '[None]',\n                        hasArrow: true,\n                        children: /*#__PURE__*/_jsxDEV(Box, {\n                          isTruncated: true,\n                          maxW: \"80px\",\n                          children: draft.filename.replace('.docx', '') ? draft.filename.replace('.docx', '') : '[None]'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 520,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 519,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                        label: draft.metadata['Date:'] || '[None]',\n                        hasArrow: true,\n                        children: /*#__PURE__*/_jsxDEV(Box, {\n                          isTruncated: true,\n                          maxW: \"80px\",\n                          children: draft.metadata['Date:'] ? draft.metadata['Date:'] : '[None]'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 527,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 526,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      children: /*#__PURE__*/_jsxDEV(HStack, {\n                        spacing: 2,\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          colorScheme: \"blue\",\n                          size: \"sm\",\n                          onClick: () => loadDraft(draft),\n                          children: \"Continue Editing\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 534,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          colorScheme: \"red\",\n                          size: \"sm\",\n                          onClick: () => openDeleteDialog(draft.filename),\n                          children: \"Delete\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 541,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 533,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 25\n                    }, this)]\n                  }, draft._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              colorScheme: \"blue\",\n              mr: 3,\n              onClick: onClose,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlertDialog, {\n        isOpen: isDeleteDialogOpen,\n        leastDestructiveRef: cancelRef,\n        onClose: closeDeleteDialog,\n        isCentered: true,\n        children: /*#__PURE__*/_jsxDEV(AlertDialogOverlay, {\n          children: /*#__PURE__*/_jsxDEV(AlertDialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(AlertDialogHeader, {\n              fontSize: \"lg\",\n              fontWeight: \"bold\",\n              children: \"Delete Draft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AlertDialogBody, {\n              children: \"Are you sure you want to delete this draft? This action cannot be undone.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AlertDialogFooter, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                ref: cancelRef,\n                onClick: closeDeleteDialog,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                colorScheme: \"red\",\n                onClick: confirmDeleteDraft,\n                ml: 3,\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isConfirmModalOpen,\n        onClose: onConfirmModalClose,\n        size: \"xl\",\n        children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            children: \"Replace Existing Draft?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              mb: 4,\n              children: [\"A draft with the name \\\"\", formData.sigla, \"\\\" already exists. Would you like to replace it?\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              gap: 8,\n              mb: 4,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontWeight: \"bold\",\n                  mb: 2,\n                  children: \"Current Draft Contents:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Table, {\n                  variant: \"simple\",\n                  size: \"sm\",\n                  mb: 4,\n                  children: [/*#__PURE__*/_jsxDEV(Thead, {\n                    children: /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Th, {\n                        children: \"Field\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 609,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Th, {\n                        children: \"Value\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 610,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n                    children: [/*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"MS ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 615,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: existingDraft === null || existingDraft === void 0 ? void 0 : existingDraft.metadata['MS ID:']\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 616,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 614,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 619,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: existingDraft === null || existingDraft === void 0 ? void 0 : existingDraft.metadata['Date:']\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 620,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 618,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"Contents\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 623,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: existingDraft === null || existingDraft === void 0 ? void 0 : existingDraft.metadata['Contents:']\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 622,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"Verses\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 627,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: [(existingDraft === null || existingDraft === void 0 ? void 0 : existingDraft.verses.length) || 0, \" verses\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 628,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 613,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 19\n                }, this), existingDraft !== null && existingDraft !== void 0 && existingDraft.image_filename && !currentModalImageError ? /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"bold\",\n                    mb: 2,\n                    children: \"Current Image:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 635,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Image, {\n                    src: `${API_BASE_URL}/media/${existingDraft.image_filename}`,\n                    alt: \"Current draft image\",\n                    maxH: \"200px\",\n                    objectFit: \"contain\",\n                    onError: () => setCurrentModalImageError(true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"bold\",\n                    mb: 2,\n                    children: \"Current Image:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontWeight: \"bold\",\n                  mb: 2,\n                  children: \"New Draft Contents:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Table, {\n                  variant: \"simple\",\n                  size: \"sm\",\n                  mb: 4,\n                  children: [/*#__PURE__*/_jsxDEV(Thead, {\n                    children: /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Th, {\n                        children: \"Field\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 657,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Th, {\n                        children: \"Value\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 658,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 655,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n                    children: [/*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"MS ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 663,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: formData.ms_id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 664,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 662,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 667,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: formData.date\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 668,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"Contents\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 671,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: formData.contents\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 672,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 670,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tr, {\n                      children: [/*#__PURE__*/_jsxDEV(Td, {\n                        children: \"Verses\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 675,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Td, {\n                        children: [formData.transcription.split('\\n').filter(line => line.trim().length > 0).length, \" verses\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 676,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 661,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 19\n                }, this), selectedImage ? /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"bold\",\n                    mb: 2,\n                    children: \"New Image:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 683,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Image, {\n                    src: selectedImage,\n                    alt: \"New draft image\",\n                    maxH: \"200px\",\n                    objectFit: \"contain\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"bold\",\n                    mb: 2,\n                    children: \"New Image:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              mr: 3,\n              onClick: onConfirmModalClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              colorScheme: \"blue\",\n              onClick: async () => {\n                onConfirmModalClose();\n                await saveDraft();\n              },\n              isLoading: isLoading,\n              children: \"Replace Draft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        ml: 8,\n        p: 6,\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          gap: 12,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            flex: 1,\n            children: [/*#__PURE__*/_jsxDEV(Flex, {\n              mb: 6,\n              gap: 6,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                flex: 2,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"MS ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 722,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"ms_id\",\n                  value: formData.ms_id,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Sigla\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"sigla\",\n                  value: formData.sigla,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"date\",\n                  value: formData.date,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              mb: 6,\n              gap: 6,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Other Names\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"other_names\",\n                  value: formData.other_names,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Contents\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"contents\",\n                  value: formData.contents,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 766,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Place of Origin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"place_of_origin\",\n                  value: formData.place_of_origin,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              mb: 6,\n              gap: 6,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Total Folia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 788,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"total_folia\",\n                  value: formData.total_folia,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Dimensions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"dimensions\",\n                  value: formData.dimensions,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Materials\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 808,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"materials\",\n                  value: formData.materials,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 809,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"lg\",\n                  mb: 2,\n                  children: \"Laod. Folia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"laod_folia\",\n                  value: formData.laod_folia,\n                  onChange: handleChange,\n                  size: \"lg\",\n                  borderColor: \"gray.400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 819,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            flex: 0.4,\n            minW: \"300px\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              onChange: handleImageChange,\n              accept: \"image/*\",\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              border: \"2px dashed\",\n              borderColor: \"gray.400\",\n              borderRadius: \"md\",\n              height: \"300px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              bg: \"gray.100\",\n              cursor: \"pointer\",\n              _hover: {\n                bg: \"gray.200\"\n              },\n              onClick: handleImageClick,\n              position: \"relative\",\n              overflow: \"hidden\",\n              children: selectedImage ? /*#__PURE__*/_jsxDEV(Image, {\n                src: selectedImage,\n                alt: \"Selected manuscript\",\n                objectFit: \"contain\",\n                maxH: \"100%\",\n                maxW: \"100%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(VStack, {\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  color: \"gray.500\",\n                  fontSize: \"lg\",\n                  children: \"Upload image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 863,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  color: \"gray.400\",\n                  fontSize: \"sm\",\n                  children: \"Click to select a file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 864,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 1,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"lg\",\n            mb: 2,\n            children: \"Format Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"format_description\",\n            value: formData.format_description,\n            onChange: handleChange,\n            size: \"lg\",\n            borderColor: \"gray.400\",\n            width: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 6,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"lg\",\n            mb: 2,\n            children: \"Transcription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"sm\",\n            color: \"gray.600\",\n            mb: 2,\n            children: \"Enter each verse on a new line. Press Enter/Return to start a new verse.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            name: \"transcription\",\n            value: formData.transcription,\n            onChange: handleChange,\n            placeholder: \"Enter verses here...\\r\\nPress Enter/Return for each new verse\",\n            size: \"lg\",\n            height: \"500px\",\n            resize: \"vertical\",\n            borderColor: \"gray.400\",\n            width: \"100%\",\n            whiteSpace: \"pre-wrap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n}\n_s(NewDataEntry, \"0GJVfYFqjblh1shg64RSsFZoqmI=\", false, function () {\n  return [useDisclosure, useToast, useDisclosure, useDisclosure];\n});\n_c = NewDataEntry;\nexport default NewDataEntry;\nvar _c;\n$RefreshReg$(_c, \"NewDataEntry\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","Flex","Heading","Text","Input","Textarea","Button","VStack","HStack","Image","useToast","Table","Thead","Tbody","Tr","Th","Td","useDisclosure","Modal","ModalOverlay","ModalContent","ModalHeader","ModalBody","ModalCloseButton","ModalFooter","Tooltip","AlertDialog","AlertDialogBody","AlertDialogFooter","AlertDialogHeader","AlertDialogContent","AlertDialogOverlay","NavigationBar","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","NewDataEntry","_s","formData","setFormData","ms_id","sigla","date","other_names","contents","place_of_origin","total_folia","dimensions","materials","laod_folia","format_description","transcription","selectedImage","setSelectedImage","selectedImageFile","setSelectedImageFile","isLoading","setIsLoading","drafts","setDrafts","isLoadingDrafts","setIsLoadingDrafts","isOpen","onOpen","onClose","fileInputRef","toast","existingDraft","setExistingDraft","isDraftModalOpen","onDraftModalOpen","onDraftModalClose","isConfirmModalOpen","onConfirmModalOpen","onConfirmModalClose","currentImageError","setCurrentImageError","currentModalImageError","setCurrentModalImageError","isDeleteDialogOpen","setIsDeleteDialogOpen","draftToDelete","setDraftToDelete","cancelRef","fetchDrafts","response","fetch","ok","Error","data","json","error","title","description","message","status","duration","isClosable","handleChange","e","name","value","target","prev","handleImageClick","current","click","handleImageChange","_e$target$files","file","files","reader","FileReader","onload","_e$target","result","readAsDataURL","handleClear","loadDraft","draft","metadata","filename","replace","verses","map","v","verse_text","join","image_filename","handleSaveAsDraft","allFields","allEmpty","every","field","trim","find","saveDraft","formDataToSend","FormData","append","JSON","stringify","split","line","index","verse_number","filter","verse","length","endpoint","method","body","errorData","handleComplete","requiredFields","missingFields","window","location","href","handleDeleteDraft","openDeleteDialog","closeDeleteDialog","confirmDeleteDraft","children","fileName","_jsxFileName","lineNumber","columnNumber","bg","py","px","position","fontWeight","ml","color","size","right","top","transform","gap","_hover","onClick","borderRadius","isDisabled","loadingText","colorScheme","isCentered","maxW","overflowX","maxH","variant","label","hasArrow","isTruncated","spacing","_id","mr","leastDestructiveRef","fontSize","ref","mb","flex","src","alt","objectFit","onError","p","onChange","borderColor","minW","type","accept","style","display","border","height","alignItems","justifyContent","cursor","overflow","mt","width","placeholder","resize","whiteSpace","_c","$RefreshReg$"],"sources":["/Users/brycemolnar/Documents/bbbbbb/CS-410-Senior-Project-Editing-Tool/frontend/src/pages/NewDataEntry.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { \n  Box, \n  Flex, \n  Heading, \n  Text, \n  Input, \n  Textarea, \n  Button,\n  VStack,\n  HStack,\n  Image,\n  useToast,\n  Table,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n  Badge,\n  useDisclosure,\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  ModalFooter,\n  Tooltip,\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogContent,\n  AlertDialogOverlay\n} from '@chakra-ui/react';\nimport NavigationBar from '../components/NavigationBar.tsx';\n\n// API base URL - can be configured based on environment\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000';\n\ninterface Draft {\n  _id: string;\n  filename: string;\n  image_filename?: string;\n  metadata: {\n    'MS ID:': string;\n    'Other Names:': string;\n    'Contents:': string;\n    'Date:': string;\n    'Origin:': string;\n    'Total Folia:': string;\n    'Dimensions:': string;\n    'Materials:': string;\n    'Laod Folia:': string;\n    'Format Description:': string;\n  };\n  verses: {\n    verse_number: number;\n    verse_text: string;\n  }[];\n}\n\nfunction NewDataEntry() {\n  const [formData, setFormData] = useState({\n    ms_id: '',\n    sigla: '',\n    date: '',\n    other_names: '',\n    contents: '',\n    place_of_origin: '',\n    total_folia: '',\n    dimensions: '',\n    materials: '',\n    laod_folia: '',\n    format_description: '',\n    transcription: ''\n  });\n  const [selectedImage, setSelectedImage] = useState<string | null>(null);\n  const [selectedImageFile, setSelectedImageFile] = useState<File | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [drafts, setDrafts] = useState<Draft[]>([]);\n  const [isLoadingDrafts, setIsLoadingDrafts] = useState(false);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const toast = useToast();\n  const [existingDraft, setExistingDraft] = useState<Draft | null>(null);\n  const { isOpen: isDraftModalOpen, onOpen: onDraftModalOpen, onClose: onDraftModalClose } = useDisclosure();\n  const { isOpen: isConfirmModalOpen, onOpen: onConfirmModalOpen, onClose: onConfirmModalClose } = useDisclosure();\n  const [currentImageError, setCurrentImageError] = useState(false);\n  const [currentModalImageError, setCurrentModalImageError] = useState(false);\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const [draftToDelete, setDraftToDelete] = useState<string | null>(null);\n  const cancelRef = useRef<HTMLButtonElement>(null);\n\n  // Fetch drafts on component mount\n  useEffect(() => {\n    fetchDrafts();\n  }, []);\n\n  async function fetchDrafts() {\n    try {\n      setIsLoadingDrafts(true);\n      const response = await fetch(`${API_BASE_URL}/api/documents/drafts/`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch drafts');\n      }\n      const data = await response.json();\n      setDrafts(data);\n    } catch (error) {\n      toast({\n        title: 'Error fetching drafts',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      setIsLoadingDrafts(false);\n    }\n  }\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) {\n    const { name, value } = e.target;\n    setFormData(function(prev) {\n      return {\n        ...prev,\n        [name]: value\n      };\n    });\n  }\n\n  function handleImageClick() {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  }\n\n  function handleImageChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0];\n    if (file) {\n      setSelectedImageFile(file);\n      const reader = new FileReader();\n      reader.onload = function(e) {\n        setSelectedImage(e.target?.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n\n  function handleClear() {\n    setFormData({\n      ms_id: '',\n      sigla: '',\n      date: '',\n      other_names: '',\n      contents: '',\n      place_of_origin: '',\n      total_folia: '',\n      dimensions: '',\n      materials: '',\n      laod_folia: '',\n      format_description: '',\n      transcription: ''\n    });\n    setSelectedImage(null);\n    setSelectedImageFile(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  }\n\n  function loadDraft(draft: Draft) {\n    setFormData({\n      ms_id: draft.metadata['MS ID:'] || '',\n      sigla: draft.filename.replace('.docx', ''),\n      date: draft.metadata['Date:'] || '',\n      other_names: draft.metadata['Other Names:'] || '',\n      contents: draft.metadata['Contents:'] || '',\n      place_of_origin: draft.metadata['Origin:'] || '',\n      total_folia: draft.metadata['Total Folia:'] || '',\n      dimensions: draft.metadata['Dimensions:'] || '',\n      materials: draft.metadata['Materials:'] || '',\n      laod_folia: draft.metadata['Laod Folia:'] || '',\n      format_description: draft.metadata['Format Description:'] || '',\n      transcription: draft.verses.map(v => v.verse_text).join('\\n')\n    });\n    if (draft.image_filename) {\n      setSelectedImage(`${API_BASE_URL}/media/${draft.image_filename}`);\n      setSelectedImageFile(null);\n    } else {\n      setSelectedImage(null);\n      setSelectedImageFile(null);\n    }\n    setCurrentModalImageError(false);\n    onClose();\n  }\n\n  async function handleSaveAsDraft() {\n    // Check if all fields are empty (including verses)\n    const allFields = [\n      formData.ms_id,\n      formData.sigla,\n      formData.date,\n      formData.other_names,\n      formData.contents,\n      formData.place_of_origin,\n      formData.total_folia,\n      formData.dimensions,\n      formData.materials,\n      formData.laod_folia,\n      formData.format_description,\n      formData.transcription\n    ];\n    const allEmpty = allFields.every(field => !field || field.trim() === '');\n    if (allEmpty) {\n      toast({\n        title: 'Cannot save empty draft',\n        description: 'Please fill in at least one field or add a verse before saving as draft.',\n        status: 'warning',\n        duration: 4000,\n        isClosable: true,\n      });\n      return;\n    }\n    try {\n      setIsLoading(true);\n      \n      // Check if a draft with the same filename already exists\n      const existingDraft = drafts.find(draft => draft.filename === `${formData.sigla}.docx`);\n      \n      if (existingDraft) {\n        setExistingDraft(existingDraft);\n        onConfirmModalOpen();\n        return;\n      }\n\n      await saveDraft();\n    } catch (error) {\n      toast({\n        title: 'Error saving draft',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  async function saveDraft() {\n    const formDataToSend = new FormData();\n    formDataToSend.append('document', JSON.stringify({\n      filename: `${formData.sigla}.docx`,\n      metadata: {\n        'MS ID:': formData.ms_id,\n        'Other Names:': formData.other_names,\n        'Contents:': formData.contents,\n        'Date:': formData.date,\n        'Origin:': formData.place_of_origin,\n        'Total Folia:': formData.total_folia,\n        'Dimensions:': formData.dimensions,\n        'Materials:': formData.materials,\n        'Laod Folia:': formData.laod_folia,\n        'Format Description:': formData.format_description\n      },\n      verses: formData.transcription\n        .split('\\n')\n        .map((line, index) => ({\n          verse_number: index + 1,\n          verse_text: line.trim()\n        }))\n        .filter(verse => verse.verse_text.length > 0)\n    }));\n\n    if (selectedImageFile) {\n      formDataToSend.append('image', selectedImageFile, selectedImageFile.name);\n    }\n\n    const endpoint = existingDraft ? 'draft/replace/' : 'draft/';\n    const response = await fetch(`${API_BASE_URL}/api/documents/${endpoint}`, {\n      method: 'POST',\n      body: formDataToSend\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Failed to save draft');\n    }\n\n    toast({\n      title: existingDraft ? 'Draft replaced' : 'Draft saved',\n      status: 'success',\n      duration: 3000,\n      isClosable: true,\n    });\n\n    setExistingDraft(null);\n    fetchDrafts();\n  }\n\n  async function handleComplete() {\n    try {\n      setIsLoading(true);\n      // Validate required fields\n      const requiredFields = ['ms_id', 'sigla', 'date'];\n      const missingFields = requiredFields.filter(field => !formData[field]);\n      \n      if (missingFields.length > 0) {\n        throw new Error(`Required fields missing: ${missingFields.join(', ')}`);\n      }\n\n      // Process transcription into verses\n      // Split by newlines and filter out empty lines\n      const verses = formData.transcription\n        .split('\\n')\n        .map((line, index) => ({\n          verse_number: index + 1,\n          verse_text: line.trim()\n        }))\n        .filter(verse => verse.verse_text.length > 0);\n\n      const formDataToSend = new FormData();\n      \n      // Add the main document data\n      formDataToSend.append('document', JSON.stringify({\n        filename: `${formData.sigla}.docx`,\n        metadata: {\n          'MS ID:': formData.ms_id,\n          'Other Names:': formData.other_names,\n          'Contents:': formData.contents,\n          'Date:': formData.date,\n          'Origin:': formData.place_of_origin,\n          'Total Folia:': formData.total_folia,\n          'Dimensions:': formData.dimensions,\n          'Materials:': formData.materials,\n          'Laod Folia:': formData.laod_folia,\n          'Format Description:': formData.format_description\n        },\n        verses: verses\n      }));\n\n      // Add the image if it exists\n      if (selectedImageFile) {\n        formDataToSend.append('image', selectedImageFile, selectedImageFile.name);\n      }\n\n      const response = await fetch(`${API_BASE_URL}/api/documents/create/`, {\n        method: 'POST',\n        body: formDataToSend\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to submit manuscript');\n      }\n\n      // Delete the draft if it exists\n      try {\n        await fetch(`${API_BASE_URL}/api/documents/draft/${formData.sigla}.docx/delete/`, {\n          method: 'DELETE',\n        });\n        fetchDrafts();\n      } catch (e) {\n        // Ignore errors here, just try to clean up\n      }\n\n      toast({\n        title: 'Manuscript submitted successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n      });\n\n      // Redirect to ManuscriptViewer for the new manuscript\n      window.location.href = `/manuscript-viewer/${formData.sigla}`;\n      // Or, if using react-router: navigate(`/manuscript-viewer/${formData.sigla}`);\n      // Clear form after successful submission\n      handleClear();\n    } catch (error) {\n      toast({\n        title: 'Error submitting manuscript',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  async function handleDeleteDraft(filename: string) {\n    try {\n      await fetch(`${API_BASE_URL}/api/documents/draft/${filename}/delete/`, {\n        method: 'DELETE',\n      });\n      fetchDrafts();\n      toast({\n        title: 'Draft deleted',\n        status: 'success',\n        duration: 2000,\n        isClosable: true,\n      });\n    } catch (error) {\n      toast({\n        title: 'Error deleting draft',\n        description: error instanceof Error ? error.message : 'Unknown error occurred',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    }\n  }\n\n  function openDeleteDialog(filename: string) {\n    setDraftToDelete(filename);\n    setIsDeleteDialogOpen(true);\n  }\n\n  function closeDeleteDialog() {\n    setIsDeleteDialogOpen(false);\n    setDraftToDelete(null);\n  }\n\n  async function confirmDeleteDraft() {\n    if (draftToDelete) {\n      await handleDeleteDraft(draftToDelete);\n      closeDeleteDialog();\n    }\n  }\n\n  return (\n    <Box>\n      <NavigationBar />\n      <Box>\n        <Box bg=\"#08004F\" py={8} px={6} position=\"relative\">\n          <Heading fontWeight=\"normal\" ml={8} color=\"lightgray\" size=\"lg\">New Data Entry</Heading>\n          <Flex position=\"absolute\" right={6} top=\"50%\" transform=\"translateY(-50%)\" gap={4}>\n            <Button \n              bg=\"#B8860B\"\n              color=\"white\"\n              _hover={{ bg: \"#9A7B0A\" }}\n              onClick={onOpen}\n              borderRadius=\"full\"\n              size=\"md\"\n              px={8}\n            >\n              View Drafts\n            </Button>\n            <Button \n              bg=\"#CB0606\"\n              color=\"white\"\n              _hover={{ bg: \"#A80505\" }}\n              onClick={handleClear}\n              borderRadius=\"full\"\n              size=\"md\"\n              px={8}\n              isDisabled={isLoading}\n            >\n              Clear\n            </Button>\n            <Button \n              bg=\"#B8860B\"\n              color=\"white\"\n              _hover={{ bg: \"#9A7B0A\" }}\n              onClick={handleSaveAsDraft}\n              borderRadius=\"full\"\n              size=\"md\"\n              px={8}\n              isLoading={isLoading}\n              loadingText=\"Saving...\"\n            >\n              Save as draft\n            </Button>\n            <Button \n              colorScheme=\"green\" \n              onClick={handleComplete}\n              borderRadius=\"full\"\n              size=\"md\"\n              px={8}\n              isLoading={isLoading}\n              loadingText=\"Submitting...\"\n            >\n              Complete\n            </Button>\n          </Flex>\n        </Box>\n\n        {/* Drafts Modal */}\n        <Modal isOpen={isOpen} onClose={onClose} size=\"xl\" isCentered>\n          <ModalOverlay />\n          <ModalContent maxW=\"600px\">\n            <ModalHeader>Saved Drafts</ModalHeader>\n            <ModalCloseButton />\n            <ModalBody>\n              <Box overflowX=\"auto\" maxH=\"350px\">\n                <Table variant=\"simple\" size=\"sm\">\n                  <Thead>\n                    <Tr>\n                      <Th>MS ID</Th>\n                      <Th>Sigla</Th>\n                      <Th>Date</Th>\n                      <Th>Actions</Th>\n                    </Tr>\n                  </Thead>\n                  <Tbody>\n                    {drafts.map((draft) => (\n                      <Tr key={draft._id}>\n                        <Td>\n                          <Tooltip label={draft.metadata['MS ID:'] || '[None]'} hasArrow>\n                            <Box isTruncated maxW=\"120px\">\n                              {draft.metadata['MS ID:'] ? draft.metadata['MS ID:'] : '[None]'}\n                            </Box>\n                          </Tooltip>\n                        </Td>\n                        <Td>\n                          <Tooltip label={draft.filename.replace('.docx', '') || '[None]'} hasArrow>\n                            <Box isTruncated maxW=\"80px\">\n                              {draft.filename.replace('.docx', '') ? draft.filename.replace('.docx', '') : '[None]'}\n                            </Box>\n                          </Tooltip>\n                        </Td>\n                        <Td>\n                          <Tooltip label={draft.metadata['Date:'] || '[None]'} hasArrow>\n                            <Box isTruncated maxW=\"80px\">\n                              {draft.metadata['Date:'] ? draft.metadata['Date:'] : '[None]'}\n                            </Box>\n                          </Tooltip>\n                        </Td>\n                        <Td>\n                          <HStack spacing={2}>\n                            <Button\n                              colorScheme=\"blue\"\n                              size=\"sm\"\n                              onClick={() => loadDraft(draft)}\n                            >\n                              Continue Editing\n                            </Button>\n                            <Button\n                              colorScheme=\"red\"\n                              size=\"sm\"\n                              onClick={() => openDeleteDialog(draft.filename)}\n                            >\n                              Delete\n                            </Button>\n                          </HStack>\n                        </Td>\n                      </Tr>\n                    ))}\n                  </Tbody>\n                </Table>\n              </Box>\n            </ModalBody>\n            <ModalFooter>\n              <Button colorScheme=\"blue\" mr={3} onClick={onClose}>\n                Close\n              </Button>\n            </ModalFooter>\n          </ModalContent>\n        </Modal>\n\n        {/* Delete Confirmation Dialog */}\n        <AlertDialog\n          isOpen={isDeleteDialogOpen}\n          leastDestructiveRef={cancelRef}\n          onClose={closeDeleteDialog}\n          isCentered\n        >\n          <AlertDialogOverlay>\n            <AlertDialogContent>\n              <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\">\n                Delete Draft\n              </AlertDialogHeader>\n              <AlertDialogBody>\n                Are you sure you want to delete this draft? This action cannot be undone.\n              </AlertDialogBody>\n              <AlertDialogFooter>\n                <Button ref={cancelRef} onClick={closeDeleteDialog}>\n                  Cancel\n                </Button>\n                <Button colorScheme=\"red\" onClick={confirmDeleteDraft} ml={3}>\n                  Delete\n                </Button>\n              </AlertDialogFooter>\n            </AlertDialogContent>\n          </AlertDialogOverlay>\n        </AlertDialog>\n\n        {/* Confirm Replace Draft Modal */}\n        <Modal isOpen={isConfirmModalOpen} onClose={onConfirmModalClose} size=\"xl\">\n          <ModalOverlay />\n          <ModalContent>\n            <ModalHeader>Replace Existing Draft?</ModalHeader>\n            <ModalCloseButton />\n            <ModalBody>\n              <Text mb={4}>\n                A draft with the name \"{formData.sigla}\" already exists. Would you like to replace it?\n              </Text>\n              \n              <Flex gap={8} mb={4}>\n                {/* Existing Draft */}\n                <Box flex={1}>\n                  <Text fontWeight=\"bold\" mb={2}>Current Draft Contents:</Text>\n                  <Table variant=\"simple\" size=\"sm\" mb={4}>\n                    <Thead>\n                      <Tr>\n                        <Th>Field</Th>\n                        <Th>Value</Th>\n                      </Tr>\n                    </Thead>\n                    <Tbody>\n                      <Tr>\n                        <Td>MS ID</Td>\n                        <Td>{existingDraft?.metadata['MS ID:']}</Td>\n                      </Tr>\n                      <Tr>\n                        <Td>Date</Td>\n                        <Td>{existingDraft?.metadata['Date:']}</Td>\n                      </Tr>\n                      <Tr>\n                        <Td>Contents</Td>\n                        <Td>{existingDraft?.metadata['Contents:']}</Td>\n                      </Tr>\n                      <Tr>\n                        <Td>Verses</Td>\n                        <Td>{existingDraft?.verses.length || 0} verses</Td>\n                      </Tr>\n                    </Tbody>\n                  </Table>\n\n                  {existingDraft?.image_filename && !currentModalImageError ? (\n                    <Box>\n                      <Text fontWeight=\"bold\" mb={2}>Current Image:</Text>\n                      <Image\n                        src={`${API_BASE_URL}/media/${existingDraft.image_filename}`}\n                        alt=\"Current draft image\"\n                        maxH=\"200px\"\n                        objectFit=\"contain\"\n                        onError={() => setCurrentModalImageError(true)}\n                      />\n                    </Box>\n                  ) : (\n                    <Box>\n                      <Text fontWeight=\"bold\" mb={2}>Current Image:</Text>\n                    </Box>\n                  )}\n                </Box>\n\n                {/* New Draft */}\n                <Box flex={1}>\n                  <Text fontWeight=\"bold\" mb={2}>New Draft Contents:</Text>\n                  <Table variant=\"simple\" size=\"sm\" mb={4}>\n                    <Thead>\n                      <Tr>\n                        <Th>Field</Th>\n                        <Th>Value</Th>\n                      </Tr>\n                    </Thead>\n                    <Tbody>\n                      <Tr>\n                        <Td>MS ID</Td>\n                        <Td>{formData.ms_id}</Td>\n                      </Tr>\n                      <Tr>\n                        <Td>Date</Td>\n                        <Td>{formData.date}</Td>\n                      </Tr>\n                      <Tr>\n                        <Td>Contents</Td>\n                        <Td>{formData.contents}</Td>\n                      </Tr>\n                      <Tr>\n                        <Td>Verses</Td>\n                        <Td>{formData.transcription.split('\\n').filter(line => line.trim().length > 0).length} verses</Td>\n                      </Tr>\n                    </Tbody>\n                  </Table>\n\n                  {selectedImage ? (\n                    <Box>\n                      <Text fontWeight=\"bold\" mb={2}>New Image:</Text>\n                      <Image\n                        src={selectedImage}\n                        alt=\"New draft image\"\n                        maxH=\"200px\"\n                        objectFit=\"contain\"\n                      />\n                    </Box>\n                  ) : (\n                    <Box>\n                      <Text fontWeight=\"bold\" mb={2}>New Image:</Text>\n                    </Box>\n                  )}\n                </Box>\n              </Flex>\n            </ModalBody>\n            <ModalFooter>\n              <Button variant=\"ghost\" mr={3} onClick={onConfirmModalClose}>\n                Cancel\n              </Button>\n              <Button \n                colorScheme=\"blue\" \n                onClick={async () => {\n                  onConfirmModalClose();\n                  await saveDraft();\n                }}\n                isLoading={isLoading}\n              >\n                Replace Draft\n              </Button>\n            </ModalFooter>\n          </ModalContent>\n        </Modal>\n\n        <Box ml={8} p={6}>\n          <Flex gap={12}>\n            <Box flex={1}>\n              <Flex mb={6} gap={6}>\n                <Box flex={2}>\n                  <Text fontSize=\"lg\" mb={2}>MS ID</Text>\n                  <Input \n                    name=\"ms_id\"\n                    value={formData.ms_id}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Sigla</Text>\n                  <Input \n                    name=\"sigla\"\n                    value={formData.sigla}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Date</Text>\n                  <Input \n                    name=\"date\"\n                    value={formData.date}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n              </Flex>\n\n              <Flex mb={6} gap={6}>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Other Names</Text>\n                  <Input \n                    name=\"other_names\"\n                    value={formData.other_names}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Contents</Text>\n                  <Input \n                    name=\"contents\"\n                    value={formData.contents}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Place of Origin</Text>\n                  <Input \n                    name=\"place_of_origin\"\n                    value={formData.place_of_origin}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n              </Flex>\n\n              <Flex mb={6} gap={6}>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Total Folia</Text>\n                  <Input \n                    name=\"total_folia\"\n                    value={formData.total_folia}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Dimensions</Text>\n                  <Input \n                    name=\"dimensions\"\n                    value={formData.dimensions}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Materials</Text>\n                  <Input \n                    name=\"materials\"\n                    value={formData.materials}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n                <Box flex={1}>\n                  <Text fontSize=\"lg\" mb={2}>Laod. Folia</Text>\n                  <Input \n                    name=\"laod_folia\"\n                    value={formData.laod_folia}\n                    onChange={handleChange}\n                    size=\"lg\"\n                    borderColor=\"gray.400\"\n                  />\n                </Box>\n              </Flex>\n            </Box>\n\n            <Box flex={0.4} minW=\"300px\">\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleImageChange}\n                accept=\"image/*\"\n                style={{ display: 'none' }}\n              />\n              <Box \n                border=\"2px dashed\" \n                borderColor=\"gray.400\" \n                borderRadius=\"md\"\n                height=\"300px\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                bg=\"gray.100\"\n                cursor=\"pointer\"\n                _hover={{ bg: \"gray.200\" }}\n                onClick={handleImageClick}\n                position=\"relative\"\n                overflow=\"hidden\"\n              >\n                {selectedImage ? (\n                  <Image\n                    src={selectedImage}\n                    alt=\"Selected manuscript\"\n                    objectFit=\"contain\"\n                    maxH=\"100%\"\n                    maxW=\"100%\"\n                  />\n                ) : (\n                  <VStack spacing={2}>\n                    <Text color=\"gray.500\" fontSize=\"lg\">Upload image</Text>\n                    <Text color=\"gray.400\" fontSize=\"sm\">Click to select a file</Text>\n                  </VStack>\n                )}\n              </Box>\n            </Box>\n          </Flex>\n\n          <Box mt={1}>\n            <Text fontSize=\"lg\" mb={2}>Format Description</Text>\n            <Input \n              name=\"format_description\"\n              value={formData.format_description}\n              onChange={handleChange}\n              size=\"lg\"\n              borderColor=\"gray.400\"\n              width=\"100%\"\n            />\n          </Box>\n\n          <Box mt={6}>\n            <Text fontSize=\"lg\" mb={2}>Transcription</Text>\n            <Text fontSize=\"sm\" color=\"gray.600\" mb={2}>\n              Enter each verse on a new line. Press Enter/Return to start a new verse.\n            </Text>\n            <Textarea\n              name=\"transcription\"\n              value={formData.transcription}\n              onChange={handleChange}\n              placeholder=\"Enter verses here...&#13;&#10;Press Enter/Return for each new verse\"\n              size=\"lg\"\n              height=\"500px\"\n              resize=\"vertical\"\n              borderColor=\"gray.400\"\n              width=\"100%\"\n              whiteSpace=\"pre-wrap\"\n            />\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default NewDataEntry; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}